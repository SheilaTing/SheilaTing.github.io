---
title: css 定位
date: 2020-05-10 13:50:22
tags:
---

#### 为什么需要定位

###### 这两天在用css写一个叉号的时候，用到了定位，当时懵逼了好长时间，才想明白，有必要对定位再做一次笔记和回顾了

- 改变元素的位置
- 让元素重叠放置任意位置 （写叉号用到的）
- 让元素固定在窗口固定位置

#### 涉及的属性

- position：static、relative、absolute、fixed、stick
- top、left、right、bottom
- z-index

##### static

该关键字指定元素使用正常的布局行为，即元素在文档常规流中当前的布局位置。

此时top，right，bottom,left, 和 z-index 属性无效，也就是它没有定位

之所以有这个属性，是为了给定位元素取消定位属性而设置的

##### relative

相对定位

未脱离普通流，它依然占据空间，设置背景色可以看出来

元素本身在普通流中的位置并未发生变化，只是视觉上变化

<!--more-->

##### absolute

绝对定位：

不为元素预留空间（脱离了普通流），通过指定元素相对于最近的非static定位祖先元素的偏移，来确定元素位置。

绝对定位的元素可以设置外边距，且不会产生边距合并

- 一定要有参考点，一般需给父亲设置position: relative，对父亲本身没影响，但作为自己的参考点 
- 绝对定位元素完全脱离普通流，其它元素(包括父元素)无法发 现绝对定位元素的存在，绝对定位元素会出现相互覆盖情况
- left: 10px 是自己的外边距相对于参考元素的边框内壁偏移 10px
- 如果不设置left/top，或者设为auto，则绝对定位元素的位置 处于默认位置(不设置绝对定位时的位置)
- 绝对定位元素的宽度是收缩的，一般需要设置固定宽度
- 给行内元素设置绝对定位后就有了块级的特性，可以设置宽 高

##### fixed

固定定位：

相对于浏览器窗口

不为元素预留空间，而是通过制定元素相对于屏幕视口的位置来指定元素位置。元素的位置在屏幕滚动时不会改变。打印时，元素会出现在每页的固定位置

##### sticky

- 一定要设置top
- 当页面向下滚动时，被视窗顶部拦住，被父级块元素的 下边缘推走
- 如果出现多个sticky，放置在同一容器内，会出现下一个 sticky元素把上一个“覆盖””的效果
- 如果出现多个sticky，放置在并列的多个块级容器内，会 出现下一个sticky元素把上一个“推走”的效果

#### 元素位置重叠的背景常识

html文档中的元素默认处于普通流（normal flow）中，也就是说其顺序由元素在文档中的先后位置决定，此时一般不会产生重叠（但指定负边距可能产生重叠）。当我们用css为某个元素指定float浮动或者position定位后，元素的定位将会依情况发生如下改变

1. 指定float值left/right

行内元素也会隐形变成块元素，元素会脱离文档的普通流，向左或右浮动，直到其外边缘碰到包含框或另一个浮动框。

2. 指定position值relative

可以相对于其在普通流中的位置偏移，原本所占的空间仍保留。

3. 指定position值absolute

行内元素也会隐形变成块元素，元素会脱离文档的普通流，相对于最近的已定位祖先元素偏移，如果元素没有已定位的祖先元素，那么它的位置相对于最初的包含块偏移。

4. 指定position值fixed

元素会脱离文档的普通流，相对于浏览器窗口偏移，固定在浏览器的某个位置。

以上四种情况下，文档中的元素都将可能被浮动/定位元素覆盖产生重叠。

##### 叉号实现

```css
//写两根线，然后让它门旋转交叉 一般用伪元素来写
// html
<div class="close"></div>
.close::before,.close::after{
     //脱离文档流，也可进行相对于父元素的定位，但主要是为了脱离文档流，因为只有当这两根线脱离了文档流，才能不受正常流的摆放约束，通过旋转才能重叠；
    positon:absolute;
    content:'';
   	display:block;
    width:20px;
    height:5px;
    transform: rotate(45deg);//旋转
}
//处理另外一根线
.close::after{
    transform: rotate(-45deg);
}
```

